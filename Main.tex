\documentclass[a4paper, openany]{book}
\usepackage{blindtext}
\usepackage[a4paper, total={6in, 8in}, margin=0.8in]{geometry}
\usepackage[center]{titlesec}
\usepackage[italian]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{manyfoot}
\usepackage{mathtools, nccmath}
\usepackage{interval}
\usepackage{listings}
\usepackage{subcaption}


\usepackage[dvipsnames]{xcolor}

\usepackage{tikz}
\usepackage{pgfplots}

\usetikzlibrary{shapes,arrows,positioning} 
\usetikzlibrary{shadows,decorations.pathmorphing}
\usetikzlibrary{calc}
\usetikzlibrary{patterns}
\usetikzlibrary{decorations.pathmorphing, arrows.meta, positioning, shapes.misc}
\usetikzlibrary{decorations.markings}


% Definizione del linguaggio MATLAB
\lstdefinelanguage{Matlab}{
  keywords={break,case,catch,continue,else,elseif,end,for,function,
            global,if,otherwise,persistent,return,switch,try,while},
  sensitive=true,
  comment=[l]\%,             % commenti con %
  morestring=[m]',           % stringhe in apici singoli
}

% Stile per i blocchi
\lstset{
  language=Matlab,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{gray}\itshape,
  stringstyle=\color{teal},
  frame=single,
  backgroundcolor=\color{black!5},
  showstringspaces=false,
  breaklines=true,
  captionpos=b
}
\bibliographystyle{unsrt}



% 1. Definizione dello stile per Teoremi e Lemmi (Titolo grassetto, corpo corsivo)
\theoremstyle{plain}
\newtheorem{teorema}{Teorema}[section] % La numerazione riparte ad ogni sezione
\newtheorem{lemma}[teorema]{Lemma}     % Il lemma usa lo stesso contatore del teorema

% 2. Definizione dello stile per le Definizioni (Titolo grassetto, corpo normale)
\theoremstyle{definition}
\newtheorem{definizione}[teorema]{Definizione} % Condivide la numerazione con teorema




\pgfplotsset{width=10cm,compat=1.9}

% We will externalize the figures

\DeclareNewFootnote{R}[roman]
\renewcommand{\footnoterule}
    {\noindent\smash{\rule[3pt]{\textwidth}{0.4pt}}}


\theoremstyle{remark}
\swapnumbers

\pagestyle{plain}
\pagenumbering{arabic}


%Per non usare /noindent
\setlength\parindent{0pt}

\usepackage{enumitem}
\setlist[itemize]{noitemsep, topsep=0pt, parsep=2pt, partopsep=0pt, itemsep=0pt}

\usepackage{pdfpages} % nel preambolo

\usepackage{caption}
\captionsetup{font=small, skip=4pt}      % meno spazio tra figura e didascalia
\usepackage{placeins}                   % \FloatBarrier per forzare il flush dei float
% Riduci gli spazi verticali dei float
\setlength{\textfloatsep}{8pt plus 2pt minus 2pt}
\setlength{\floatsep}{6pt plus 1pt minus 1pt}
\setlength{\intextsep}{6pt plus 1pt minus 1pt}

\begin{document}



\tableofcontents
\linespread{1.3}

\large

\input{Capitolo1.tex}
% \input{Capitolo2.tex}
% \input{Capitolo3.tex}
% \input{Capitolo4.tex}

\bibliography{Bibliografia}

\end{document}